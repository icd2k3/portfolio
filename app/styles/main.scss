/* MAIN.SCSS
- Overall styles for the site
*/

// IMPORTS ///////////////
@import '_mixins';
@import '_common';
@import "compass/css3/transition";
@import "compass/css3/transform";

// BODY & CONTAINER //////
html, body { @include size(100%, 100%); padding: 0; margin: 0; }
body {
    @include font($family: $font-source-sans-pro, $color: $white);
    background-color: $black;
}
#container {
    @include size(inherit, inherit);
}

// GRID //////////////////
#grid {
    @include size(inherit, inherit);
    position: relative;
    .grid-item {
        position: relative;
        z-index: 1;
        &.active {
            z-index: 2;
        }
    }
    &.four-up {
        .grid-item { width: 25%; }
    }
    &.three-up {
        .grid-item { width: 33.333%; }
    }
    &.two-up {
        .grid-item { width: 50%; }
    }
    &.one-up {
        .grid-item { width: 100%; }
    }
}
.grid-row-container {
    @include position-relative($z-index: 1);
    &.active {
        z-index: 2;
    }
    .grid-row {
        height: 100%;
    }
}

// GRID ITEM //////////////////
.grid-item {
    height: 100%;
    background-size: cover;
    float: left;
    z-index: 1;
    &.animate {
        z-index: 2;
    }
}
.item-link {
    @include single-transition(opacity, 0.25s, $ease-out-quad);
    @include position-absolute($z-index: 1);
    //position: absolute;
    @include size(100%, 100%);
    display: block;
    background-color: #000;
    opacity: 0;
    &:hover, &:focus {
        opacity: 0.5;
    }
}
.item-content {
    position: relative;
}

// ITEM CUBE ////////////////
.item-content, .item-cube-container, .item-cube, .item-cube .side {
    @include size(100%, 100%);
}
.item-cube-container {
    @include perspective(600px);
}
.item-cube {
    @include transform-style(preserve-3d);
    //@include translate3d(0, 0, -200px);
    position: relative;
    .item-image {
        @include size(100%, 100%);
        background-size: cover;
    }
    img {
        @include size(1px, 1px);
        visibility: hidden;
        display: block;
        overflow: hidden;
    }
    .side {
        position: absolute;
        @include backface-visibility(hidden);
        &.one {
            //@include translate3d(0, 0, 188px);
            z-index: 2;
        }
        &.two {
            z-index: 1;
            //@include transform(rotateY(-90deg) translate3d(0, 0, 188px));
        }
    }
    &.animate {
        @include enable-fast-image-rendering();
        .side {
            @include enable-fast-image-rendering();
        }
    }
}

// PROJECT ///////////////////
.project-details {
    overflow: hidden;
}

// LOGO //////////////////////
#logo {
    @include position-fixed($z-index: 3);
    cursor: pointer;
    a {
        &:before {
            @include position-absolute($top: 0, $left: 0);
            border-top: 100px solid $black;
            border-right: 100px solid transparent;
            width: 0;
            content: '';
        }
        &:hover {
            &:before {
                border-top: 100px solid $lime;
            }
        }
    }
}

// ANIMATIONS ////////////////
// TODO: create mixin for angular animations?
.about-animation {
    height: 100px;
    &.ng-enter, &.ng-leave {
        @include single-transition(height, 0.25s, $ease-out-quad);
    }
    &.ng-enter { height: 0px; }
    &.ng-enter-active { height: 100px; }
    &.ng-leave { height: 100px; }
    &.ng-leave-active { height: 0px; }
}

.project-animation {
    max-height: 500px;
    &.ng-enter, &.ng-leave {
        @include single-transition(max-height, 0.25s, $ease-out-quad);
    }
    &.ng-enter { max-height: 0px; }
    &.ng-enter-active { max-height: 500px; }
    &.ng-leave { max-height: 500px; }
    &.ng-leave-active { max-height: 0px; }
}

.logo-animation {
    top: 0;
    left: 0;
    &.ng-enter, &.ng-leave {
        @include single-transition(top, 0.25s, $ease-out-quad);
        @include single-transition(left, 0.25s, $ease-out-quad);
    }
    &.ng-enter { top: -50px; left: -50px; }
    &.ng-enter-active { top: 0; left: 0; }
    &.ng-leave { top: 0; left: 0; }
    &.ng-leave-active { top: -50px; left: -50px; }
}

//$cubeTransitionSpeed: 1s;
//$cubeTransitionDelay: 1s;
/*.item-cube.animate {
    @include single-transition(all, $cubeTransitionSpeed, $ease-out-quad);
    @include transform(rotateY(90deg) translate3d(200px, 0, 0));
    z-index: 99;
}*/
/*.grid-row-container{
    &:nth-child(1) {
        .grid-item {
            &:nth-child(2) .item-cube { @include transition-delay($cubeTransitionDelay); }
            &:nth-child(3) .item-cube { @include transition-delay($cubeTransitionDelay * 2); }
            &:nth-child(4) .item-cube { @include transition-delay($cubeTransitionDelay * 3); }
        }
    }
    &:nth-child(2) {
        .grid-item {
            &:nth-child(1) .item-cube { @include transition-delay($cubeTransitionDelay * 2); }
            &:nth-child(2) .item-cube { @include transition-delay($cubeTransitionDelay * 3); }
            &:nth-child(3) .item-cube { @include transition-delay($cubeTransitionDelay * 4); }
            &:nth-child(4) .item-cube { @include transition-delay($cubeTransitionDelay * 5); }
        }
    }
    &:nth-child(3) {
        .grid-item {
            &:nth-child(1) .item-cube { @include transition-delay($cubeTransitionDelay * 3); }
            &:nth-child(2) .item-cube { @include transition-delay($cubeTransitionDelay * 4); }
            &:nth-child(3) .item-cube { @include transition-delay($cubeTransitionDelay * 5); }
            &:nth-child(4) .item-cube { @include transition-delay($cubeTransitionDelay * 6); }
        }
    }
}*/

/*.cube-transition {
    @include single-transition(all, 0.4s, $ease-out-quad);
    -webkit-transform: rotateY(90deg) translate3d(200px, 0, 0);
}*/