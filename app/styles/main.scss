/* MAIN.SCSS
- Overall styles for the site
*/

// IMPORTS ///////////////
@import '_mixins';
@import '_common';
@import "compass/css3/transition";
@import "compass/css3/transform";
@import "compass/css3/images";

// BODY & CONTAINER //////
html, body { @include size(100%, 100%); padding: 0; margin: 0; }
body {
    @include font($family: $font-source-sans-pro, $color: $white);
    background-color: $black;
}
#container {
    @include size(inherit, inherit);
}

// GRID //////////////////
#grid {
    @include size(inherit, inherit);
    position: relative;
    .grid-project {
        position: relative;
        z-index: 1;
        &.active {
            z-index: 2;
        }
    }
    &.four-up {
        .grid-project { width: 25%; }
    }
    &.three-up {
        .grid-project { width: 33.333%; }
    }
    &.two-up {
        .grid-project { width: 50%; }
    }
    &.one-up {
        .grid-project { width: 100%; }
    }
}
.grid-row-container {
    @include position-relative($z-index: 1);
    &.active {
        z-index: 2;
    }
    .grid-row {
        height: 100%;
    }
}

// GRID ITEM //////////////////
.grid-project {
    height: 100%;
    background-size: cover;
    float: left;
    z-index: 1;
    &.animate {
        z-index: 2;
    }
}
.item-link {
    @include position-absolute($z-index: 1);
    @include size(100%, 100%);
    display: block;
    overflow: hidden;
    .gradient {
        @include single-transition(opacity, 0.25s, linear);
        @include background-image(linear-gradient(transparent 50%, #000 100%));
        @include size(100%, 100%);
        @include position-absolute($z-index: 1);
        opacity: 0;
    }
    .info {
        @include single-transition(opacity, 0.25s, linear);
        @include position-absolute($bottom: 0, $z-index: 2);
        @include font($color: #FFF);
        padding: 0 100px 0 20px;
        opacity: 0;
        .title {
            @include font($size: 24px);
            display: block;
            margin-bottom: 5px;
        }
        .client {
            @include font($size: 12px, $color: #CCC);
        }
        p {
            @include font($size: 14px);
        }
    }
    .more-info {
        &:before {
            @include single-transition(all, 0.15s, $ease-out-quad);
            @include position-absolute($right: -100px, $bottom: -100px, $z-index: 2);
            border-right: 100px solid $lime;
            border-top: 100px solid transparent;
            width: 0;
            content: '';
        }
        &:hover {
            &:before {
                border-top: 100px solid $lime;
            }
        }
    }
    &:hover, &:focus {
        .gradient {
            opacity: 0.6;
        }
        .info {
            opacity: 1;
        }
        .more-info:before {
            @include position-absolute($right: 0px, $bottom: 0px);
        }
    }
}
.item-content {
    position: relative;
}

// ITEM CUBE ////////////////
.item-content, .item-cube-container, .item-cube, .item-cube .side {
    @include size(100%, 100%);
}
.item-cube-container {
    @include perspective(600px);
}
.item-cube {
    @include transform-style(preserve-3d);
    position: relative;
    .item-image {
        @include size(100%, 100%);
        background-size: cover;
    }
    img {
        @include size(1px, 1px);
        visibility: hidden;
        display: block;
        overflow: hidden;
    }
    .side {
        position: absolute;
        @include backface-visibility(hidden);
        &.one { z-index: 2; }
        &.two { z-index: 1; }
    }
    &.animate {
        @include enable-fast-image-rendering();
        .side {
            @include enable-fast-image-rendering();
        }
    }
}

// PROJECT ///////////////////
.project-details {
    overflow: hidden;
}

// LOGO //////////////////////
#logo {
    @include position-fixed($z-index: 3);
    cursor: pointer;
    a {
        &:before {
            @include position-absolute($top: 0, $left: 0);
            border-top: 100px solid $black;
            border-right: 100px solid transparent;
            width: 0;
            content: '';
        }
        &:hover {
            &:before {
                border-top: 100px solid $lime;
            }
        }
    }
}

// ANIMATIONS ////////////////
// TODO: create mixin for angular animations?
.about-animation {
    height: 100px;
    &.ng-enter, &.ng-leave {
        @include single-transition(height, 0.25s, $ease-out-quad);
    }
    &.ng-enter { height: 0px; }
    &.ng-enter-active { height: 100px; }
    &.ng-leave { height: 100px; }
    &.ng-leave-active { height: 0px; }
}

.project-animation {
    max-height: 500px;
    &.ng-enter, &.ng-leave {
        @include single-transition(max-height, 0.25s, $ease-out-quad);
    }
    &.ng-enter { max-height: 0px; }
    &.ng-enter-active { max-height: 500px; }
    &.ng-leave { max-height: 500px; }
    &.ng-leave-active { max-height: 0px; }
}

.logo-animation {
    top: 0;
    left: 0;
    &.ng-enter, &.ng-leave {
        @include single-transition(top, 0.25s, $ease-out-quad);
        @include single-transition(left, 0.25s, $ease-out-quad);
    }
    &.ng-enter { top: -50px; left: -50px; }
    &.ng-enter-active { top: 0; left: 0; }
    &.ng-leave { top: 0; left: 0; }
    &.ng-leave-active { top: -50px; left: -50px; }
}